<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:camel="http://camel.apache.org/schema/spring"
       xmlns:scala-util="http://www.springframework.org/schema/scala/util"
       xsi:schemaLocation="
		http://www.springframework.org/schema/util  http://www.springframework.org/schema/util/spring-util-3.0.xsd
	    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	    http://www.springframework.org/schema/scala/util http://www.springframework.org/schema/scala/util/scala-util.xsd
    http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">

    <bean class="org.springframework.beans.factory.config.CustomEditorConfigurer">
        <property name="propertyEditorRegistrars">
            <bean class="org.springframework.scala.beans.propertyeditors.ScalaEditorRegistrar"/>
        </property>
    </bean>

    <bean id="hl7codec" class="org.apache.camel.component.hl7.HL7MLLPCodec"/>


    <camel:endpoint id="hl7listener" uri="mina2:tcp://0.0.0.0:8888?sync=true&amp;codec=#hl7codec"/>

    <bean id="A01-MAP" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
        <property name="location" value="file:etc/com.tactix4.t4ADT.cfg"/>
    </bean>

    <util:properties id="mapone" location="file:etc/com.tactix4.t4ADT.cfg" />

    <bean id="ADTInRoute" class="com.tactix4.t4ADT.ADTInRoute">
       <constructor-arg>
           <scala-util:map>
               <entry key="A01" value-ref="mapone"/>
           </scala-util:map>
       </constructor-arg>
   </bean>


    <camel:camelContext id="camel">
        <camel:routeBuilder ref="ADTInRoute"/>
    </camel:camelContext>



</beans>
